# ğŸ—ï¸ StudVote - ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

## ğŸ“‹ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

1. [ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹](#Ğ¾Ğ±Ğ·Ğ¾Ñ€-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹)
2. [ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹](#ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹-ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹)
3. [ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¸-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
4. [Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#Ğ±Ğ°Ğ·Ğ°-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
5. [API Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½](#api-Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½)
6. [Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ](#Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ)
7. [ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ](#Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)

---

## ğŸ¯ ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

StudVote Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ° Ğ½Ğ° ĞºĞ»Ğ°ÑÑĞ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ **Ñ‚Ñ€ĞµÑ…ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğµ**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          React Application (Client)               â”‚  â”‚
â”‚  â”‚  â€¢ Material-UI Components                         â”‚  â”‚
â”‚  â”‚  â€¢ React Router (SPA)                             â”‚  â”‚
â”‚  â”‚  â€¢ Context API (State Management)                 â”‚  â”‚
â”‚  â”‚  â€¢ Socket.io Client (WebSocket)                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“ HTTPS/WSS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   APPLICATION LAYER                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Node.js + Express Server                  â”‚  â”‚
â”‚  â”‚  â€¢ RESTful API                                    â”‚  â”‚
â”‚  â”‚  â€¢ JWT Authentication                             â”‚  â”‚
â”‚  â”‚  â€¢ Business Logic                                 â”‚  â”‚
â”‚  â”‚  â€¢ Socket.io Server (WebSocket)                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         External Integrations                     â”‚  â”‚
â”‚  â”‚  â€¢ RUZ API (Schedule)                             â”‚  â”‚
â”‚  â”‚  â€¢ GigaChat API (AI)                              â”‚  â”‚
â”‚  â”‚  â€¢ Email Service (SMTP)                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATA LAYER                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    MongoDB       â”‚         â”‚       Redis          â”‚  â”‚
â”‚  â”‚  â€¢ Users         â”‚         â”‚  â€¢ Caching           â”‚  â”‚
â”‚  â”‚  â€¢ Polls         â”‚         â”‚  â€¢ Auth Codes        â”‚  â”‚
â”‚  â”‚  â€¢ Responses     â”‚         â”‚  â€¢ Sessions          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

### 1. Frontend (React)

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°**:
```
client/src/
â”œâ”€â”€ components/          # ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ Admin/          # ĞĞ´Ğ¼Ğ¸Ğ½ÑĞºĞ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ Analytics/      # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸
â”‚   â”œâ”€â”€ Auth/           # ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ Layout/         # Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†
â”‚   â””â”€â”€ Polls/          # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
â”œâ”€â”€ pages/              # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ contexts/           # React Context (Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ)
â”œâ”€â”€ services/           # API ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹
â””â”€â”€ styles/             # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸
```

**ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸**:
- **React 19** â€” UI Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº
- **React Router** â€” Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (SPA)
- **Material-UI** â€” Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
- **Tailwind CSS** â€” ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ğ°Ñ€Ğ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸
- **Axios** â€” HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚
- **Socket.io Client** â€” WebSocket
- **ECharts/Recharts** â€” Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

**Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ**:
- `AuthContext` â€” Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğµ, Ñ‚Ğ¾ĞºĞµĞ½
- `ThemeContext` â€” Ñ‚ĞµĞ¼Ğ° (ÑĞ²ĞµÑ‚Ğ»Ğ°Ñ/Ñ‚ĞµĞ¼Ğ½Ğ°Ñ)
- `SearchContext` â€” ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ¸ÑĞºĞ°

### 2. Backend (Node.js + Express)

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°, API, Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°**:
```
server/src/
â”œâ”€â”€ controllers/        # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²
â”‚   â”œâ”€â”€ authController.js
â”‚   â”œâ”€â”€ pollController.js
â”‚   â”œâ”€â”€ adminController.js
â”‚   â””â”€â”€ ...
â”œâ”€â”€ models/            # Mongoose ÑÑ…ĞµĞ¼Ñ‹
â”‚   â”œâ”€â”€ User.js
â”‚   â”œâ”€â”€ Poll.js
â”‚   â”œâ”€â”€ Vote.js
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/          # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”‚   â”œâ”€â”€ ikopService.js           # Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ˜ĞšĞĞŸ
â”‚   â”œâ”€â”€ adminAnalyticsService.js # ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°
â”‚   â”œâ”€â”€ ruzService.js            # Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ Ğ£Ğ—
â”‚   â”œâ”€â”€ gigachatService.js       # Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ AI
â”‚   â””â”€â”€ ...
â”œâ”€â”€ routes/            # ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²
â”œâ”€â”€ middleware/        # Middleware (auth, validation)
â”œâ”€â”€ config/            # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (DB, Redis)
â””â”€â”€ server.js          # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
```

**ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸**:
- **Express 5** â€” Ğ²ĞµĞ±-Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº
- **Mongoose** â€” ODM Ğ´Ğ»Ñ MongoDB
- **ioredis** â€” ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Redis
- **JWT** â€” Ñ‚Ğ¾ĞºĞµĞ½Ñ‹
- **Socket.io** â€” WebSocket ÑĞµÑ€Ğ²ĞµÑ€
- **Nodemailer** â€” Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° email
- **Axios** â€” HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… API

**Ğ¡Ğ»Ğ¾Ğ¸**:
1. **Routes** â€” Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ğ¾Ğ²
2. **Controllers** â€” Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
3. **Services** â€” Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
4. **Models** â€” Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ‘Ğ”

### 3. Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (MongoDB)

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: ĞŸĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

**ĞšĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¸**:
- `users` â€” Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ (ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ñ‹, Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸, Ğ°Ğ´Ğ¼Ğ¸Ğ½Ñ‹)
- `polls` â€” Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ñ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸ Ğ¸ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°Ğ¼Ğ¸
- `votes` â€” (ÑƒÑÑ‚Ğ°Ñ€ĞµĞ²ÑˆĞ°Ñ, Ğ·Ğ°Ğ¼ĞµĞ½ĞµĞ½Ğ° Ğ½Ğ° `responses` Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ `polls`)
- `badges` â€” Ğ·Ğ½Ğ°Ñ‡ĞºĞ¸ (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…)
- `groupreliabilityevents` â€” ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…)

**Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹**:
- ĞŸĞ¾ `email` (Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸)
- ĞŸĞ¾ `status` Ğ¸ `end_date` (Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹)
- ĞŸĞ¾ `creator_id` (Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹)
- ĞŸĞ¾ `target_groups` (Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹)

### 4. ĞšÑÑˆ (Redis)

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ, ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ**:
- **ĞšĞ¾Ğ´Ñ‹ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸** (`auth:code:{email}`) â€” TTL 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚
- **ĞĞºĞ°Ğ´ĞµĞ¼Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°** (`ruz:structure:v2`) â€” TTL 10 Ğ¼Ğ¸Ğ½ÑƒÑ‚
- **Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ** (`schedule:group:{groupId}:{date}`) â€” TTL 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚
- **Ğ¡ĞµÑÑĞ¸Ğ¸** (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…)

### 5. WebSocket (Socket.io)

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: Real-time ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ

**Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ**:
- `new_poll` â€” Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½
- `poll_closed` â€” Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½
- `results_available` â€” Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ñ‹
- `achievement_unlocked` â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½ Ğ·Ğ½Ğ°Ñ‡Ğ¾Ğº

**ĞšĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹**:
- ĞŸĞ¾ Ñ€Ğ¾Ğ»ÑĞ¼: `role:student`, `role:teacher`, `role:admin`
- ĞŸĞ¾ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°Ğ¼: `group:{groupId}`
- ĞŸĞ¾ Ñ„Ğ°ĞºÑƒĞ»ÑŒÑ‚ĞµÑ‚Ğ°Ğ¼: `faculty:{facultyId}`

### 6. Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

#### RUZ API
- **ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸ Ğ°ĞºĞ°Ğ´ĞµĞ¼Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
- **Endpoints**:
  - `/dictionary/faculties` â€” Ñ„Ğ°ĞºÑƒĞ»ÑŒÑ‚ĞµÑ‚Ñ‹
  - `/dictionary/groups` â€” Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
  - `/search` â€” Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
  - `/schedule/group/{id}` â€” Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹

#### GigaChat API
- **ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: AI Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- **ĞœĞµÑ‚Ğ¾Ğ´Ñ‹**:
  - `generatePoll(topic)` â€” Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ¾Ğ¿Ñ€Ğ¾Ñ
  - `generateOptions(title)` â€” Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²
  - `generateForm(topic)` â€” Ğ°Ğ½ĞºĞµÑ‚Ğ°

#### Email Service (SMTP)
- **ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ĞºĞ¾Ğ´Ğ¾Ğ² Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ
- **Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚**: Nodemailer + Gmail SMTP

---

## ğŸ”„ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### 1. ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. POST /api/auth/request-code {email}
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AuthController   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 2. Generate 6-digit code
         â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Redis â”‚ â† 3. Store code (TTL 5 min)
     â””â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 4. Send code via email
         â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Email Serviceâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. POST /api/auth/verify-code {email, code}
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AuthController   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 2. Check code in Redis
         â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Redis â”‚
     â””â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚ 3. Code valid?
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MongoDB â”‚ â† 4. Find user by email
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€ 5a. User exists â†’ Generate JWT
         â”‚
         â””â”€ 5b. New user â†’ Generate temp JWT for registration
```

### 2. ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. POST /api/polls/:id/vote {answers}
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PollController    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 2. Load poll from DB
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MongoDB â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚ 3. Poll found
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Poll.addVote()    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 4. Check: already voted?
         â”‚ 5. If lesson_review â†’ Calculate Ğ˜ĞšĞĞŸ
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ikopService      â”‚ â† Calculate Ğ˜ĞšĞĞŸ (0-100)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 6. Save response with metadata
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MongoDB â”‚ â† Poll.responses.push(...)
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚ 7. Update user points
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User.student_data â”‚ â† +10 points, check level up
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 8. Update analytics cache (async)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Poll.updateAnalyticsCache â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. GET /api/admin/quality/dashboard?period=month
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AdminController       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 2. Call analytics service
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ adminAnalyticsService   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 3. Build query with filters
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MongoDB â”‚ â† 4. Find all lesson_review polls
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚ 5. Extract all responses
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Process responses:     â”‚
â”‚  â€¢ Calculate avg Ğ˜ĞšĞĞŸ   â”‚
â”‚  â€¢ Find problem areas   â”‚
â”‚  â€¢ Build top lists      â”‚
â”‚  â€¢ Calculate dynamics   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 6. Return aggregated data
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚ â† 7. Render charts (ECharts)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ Ğ£Ğ—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. GET /api/schedule/group/:groupId?date=2026-01-14
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ScheduleController     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 2. Check Redis cache
         â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Redis â”‚ â† cache key: schedule:group:54321:2026-01-14
     â””â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚
         â”œâ”€ 3a. Cache hit â†’ Return cached data
         â”‚
         â””â”€ 3b. Cache miss â†’ Fetch from RUZ API
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  RUZ API     â”‚ â† https://ruz.fa.ru/api/schedule/group/54321
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ 4. Parse response
                â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  ruzService.fetchJson() â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ 5. Save to Redis (TTL 5 min)
                   â†“
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”
               â”‚ Redis â”‚
               â””â”€â”€â”€â”¬â”€â”€â”€â”˜
                   â”‚ 6. Return schedule
                   â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Client  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. AI Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. POST /api/polls/generate {topic: "ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑÑ‚Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğ¹"}
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PollController        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 2. Call GigaChat service
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  gigachatService        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 3. Get access token (cached)
         â”œâ”€ 3a. Check cache
         â””â”€ 3b. If expired â†’ OAuth request to get new token
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  GigaChat OAuth  â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ 4. Cache token
                â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ gigachatService.sendChatRequest â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ 5. Build prompt
                  â”‚    "Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Ñ‚ĞµĞ¼Ñƒ: ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑÑ‚Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğ¹..."
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  GigaChat API    â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ 6. AI generates JSON
                â”‚    {title, description, options}
                â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ parseJSON()             â”‚ â† Extract JSON from response
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ 7. Validate structure
                  â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Client  â”‚ â† 8. Return generated poll
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ¡Ñ…ĞµĞ¼Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ£Ğ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ½Ğ°Ñ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Users                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id: ObjectId                                                â”‚
â”‚ email: String (unique, indexed)                              â”‚
â”‚ full_name: String                                            â”‚
â”‚ role: String (enum: 'student', 'teacher', 'admin')           â”‚
â”‚                                                              â”‚
â”‚ // Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚                                                   â”‚
â”‚ student_id: String                                           â”‚
â”‚ faculty: String (indexed)                                    â”‚
â”‚ faculty_id: String                                           â”‚
â”‚ program: String                                              â”‚
â”‚ program_id: String                                           â”‚
â”‚ course: Number (1-5)                                         â”‚
â”‚ group: String                                                â”‚
â”‚ group_id: Number                                             â”‚
â”‚                                                              â”‚
â”‚ // Ğ“ĞµĞ¹Ğ¼Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ                                             â”‚
â”‚ student_data: {                                              â”‚
â”‚   points: Number (default: 0)                                â”‚
â”‚   level: Number (default: 1)                                 â”‚
â”‚   streak_days: Number (default: 0)                           â”‚
â”‚ }                                                            â”‚
â”‚                                                              â”‚
â”‚ // ĞŸÑ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ                                            â”‚
â”‚ department: String                                           â”‚
â”‚ ruz_teacher_id: String (indexed)                             â”‚
â”‚ ruz_teacher_name: String                                     â”‚
â”‚                                                              â”‚
â”‚ polls_participated: [ObjectId] â†’ Polls                       â”‚
â”‚ polls_created: [ObjectId] â†’ Polls                            â”‚
â”‚                                                              â”‚
â”‚ created_at: Date                                             â”‚
â”‚ updatedAt: Date                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ 1:N
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Polls                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id: ObjectId                                                â”‚
â”‚ title: String                                                â”‚
â”‚ description: String                                          â”‚
â”‚ type: String                                                 â”‚
â”‚ pollType: String (enum: 'lesson_review', 'custom')           â”‚
â”‚                                                              â”‚
â”‚ // ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğº Ğ¿Ğ°Ñ€Ğµ (Ğ´Ğ»Ñ lesson_review)                      â”‚
â”‚ lessonContext: {                                             â”‚
â”‚   lessonId: String                                           â”‚
â”‚   subject: String                                            â”‚
â”‚   teacher: String                                            â”‚
â”‚   date: Date                                                 â”‚
â”‚   time: String                                               â”‚
â”‚   topic: String                                              â”‚
â”‚   auditorium: String                                         â”‚
â”‚   lessonType: String                                         â”‚
â”‚   group: String                                              â”‚
â”‚   groupId: String                                            â”‚
â”‚ }                                                            â”‚
â”‚                                                              â”‚
â”‚ // Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹                                                   â”‚
â”‚ questions: [{                                                â”‚
â”‚   id: Mixed (String/Number)                                  â”‚
â”‚   text: String                                               â”‚
â”‚   type: String (enum: 'rating', 'yes_no', 'choice', 'text') â”‚
â”‚   required: Boolean                                          â”‚
â”‚   weight: Number (0-1, Ğ´Ğ»Ñ Ğ˜ĞšĞĞŸ)                             â”‚
â”‚   block: String ('content', 'methodology', 'other')          â”‚
â”‚   options: [String]                                          â”‚
â”‚ }]                                                           â”‚
â”‚                                                              â”‚
â”‚ // Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)                       â”‚
â”‚ technicalIssues: {                                           â”‚
â”‚   enabled: Boolean                                           â”‚
â”‚   options: [String]                                          â”‚
â”‚ }                                                            â”‚
â”‚                                                              â”‚
â”‚ // Ğ¢Ğ°Ñ€Ğ³ĞµÑ‚Ğ¸Ğ½Ğ³                                                â”‚
â”‚ target_groups: [String]                                      â”‚
â”‚ target_faculties: [String]                                   â”‚
â”‚ target_programs: [String]                                    â”‚
â”‚ target_courses: [Number]                                     â”‚
â”‚                                                              â”‚
â”‚ // ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸                                                â”‚
â”‚ is_anonymous: Boolean                                        â”‚
â”‚ show_results: String                                         â”‚
â”‚ reward_points: Number                                        â”‚
â”‚                                                              â”‚
â”‚ // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ                                                    â”‚
â”‚ status: String (enum: 'draft', 'active', 'completed')        â”‚
â”‚ start_date: Date                                             â”‚
â”‚ end_date: Date                                               â”‚
â”‚                                                              â”‚
â”‚ creator_id: ObjectId â†’ Users                                 â”‚
â”‚ total_votes: Number                                          â”‚
â”‚                                                              â”‚
â”‚ // ĞÑ‚Ğ²ĞµÑ‚Ñ‹ (Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹)                            â”‚
â”‚ responses: [{                                                â”‚
â”‚   user_id: ObjectId â†’ Users                                  â”‚
â”‚   answers: Mixed (Object Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°Ğ¼Ğ¸)                         â”‚
â”‚   ikop: Number (0-100, Ğ´Ğ»Ñ lesson_review)                    â”‚
â”‚   technical_issues: {                                        â”‚
â”‚     has_issues: Boolean                                      â”‚
â”‚     selected: [String]                                       â”‚
â”‚     description: String                                      â”‚
â”‚   }                                                          â”‚
â”‚   // ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ ÑÑ€ĞµĞ·Ğ¾Ğ²                                  â”‚
â”‚   user_faculty: String                                       â”‚
â”‚   user_faculty_name: String                                  â”‚
â”‚   user_program: String                                       â”‚
â”‚   user_program_name: String                                  â”‚
â”‚   user_course: Number                                        â”‚
â”‚   user_group: String                                         â”‚
â”‚   user_group_name: String                                    â”‚
â”‚   submitted_at: Date                                         â”‚
â”‚ }]                                                           â”‚
â”‚                                                              â”‚
â”‚ // ĞšÑÑˆ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸                                            â”‚
â”‚ cached_analytics: {                                          â”‚
â”‚   overall_average: Number                                    â”‚
â”‚   by_faculty: Mixed                                          â”‚
â”‚   by_program: Mixed                                          â”‚
â”‚   by_course: Mixed                                           â”‚
â”‚   last_updated: Date                                         â”‚
â”‚ }                                                            â”‚
â”‚                                                              â”‚
â”‚ created_at: Date                                             â”‚
â”‚ updatedAt: Date                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ—Ğ°Ñ‡ĞµĞ¼ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²?

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ²ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ `responses` Ğ² `Poll`**:
1. **ĞÑ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ğ¾ÑÑ‚ÑŒ** â€” Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸ĞºĞ¾Ğ² Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸
2. **ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ** â€” Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ñ‹ JOIN'Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²
3. **Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…** â€” Ğ²ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ¿Ñ€Ğ¾ÑĞ° Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ
4. **ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸** â€” Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ñ€ÑĞ´Ğ¾Ğ¼ Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸

**ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚ĞºĞ¸**:
1. **Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°** â€” MongoDB Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ´Ğ¾ 16MB
   - **Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**: ĞŸÑ€Ğ¸ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ñ… (1000+ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²) Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½ÑƒÑ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ñ
2. **ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ** â€” Ğ¿Ñ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ³Ğ¾Ğ»Ğ¾ÑĞµ Ğ²ĞµÑÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ
   - **Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ `$push` Ğ´Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°

### ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°Ñ…

ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ:
```javascript
{
  user_faculty: "Ğ¤Ğ°ĞºÑƒĞ»ÑŒÑ‚ĞµÑ‚ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹",
  user_faculty_name: "Ğ¤Ğ˜Ğ¢",
  user_program: "ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°",
  user_program_name: "ĞŸĞ˜",
  user_course: 3,
  user_group: "Ğ˜Ğ’Ğ¢23-1Ğ‘",
  user_group_name: "Ğ˜Ğ’Ğ¢23-1Ğ‘"
}
```

**Ğ—Ğ°Ñ‡ĞµĞ¼?**
- Ğ¡Ñ€ĞµĞ·Ñ‹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸ Ğ±ĞµĞ· JOIN'Ğ¾Ğ²
- Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (ĞµÑĞ»Ğ¸ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚ Ğ¿ĞµÑ€ĞµÑˆĞµĞ» Ğ½Ğ° Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ ĞºÑƒÑ€Ñ)
- Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ğ¸

---

## ğŸ”Œ API Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½

### RESTful Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

StudVote ÑĞ»ĞµĞ´ÑƒĞµÑ‚ REST Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ°Ğ¼:

| ĞœĞµÑ‚Ğ¾Ğ´ | Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸ĞºĞ° | ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ |
|-------|-----------|---------|
| GET | ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ€ĞµÑÑƒÑ€Ñ(Ñ‹) | `GET /api/polls` â†’ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² |
| POST | Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ€ĞµÑÑƒÑ€Ñ | `POST /api/polls` â†’ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¾Ğ¿Ñ€Ğ¾Ñ |
| PUT | ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ€ĞµÑÑƒÑ€Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ | `PUT /api/polls/:id` â†’ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ğ¿Ñ€Ğ¾Ñ |
| PATCH | ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ‡Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾ | `PATCH /api/polls/:id` â†’ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ |
| DELETE | Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ñ€ĞµÑÑƒÑ€Ñ | `DELETE /api/polls/:id` â†’ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ¾Ğ¿Ñ€Ğ¾Ñ |

### Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ğ¾Ğ²

**ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°**:
1. **Ğ¡ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ² Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ¼ Ñ‡Ğ¸ÑĞ»Ğµ**: `/polls`, `/users`
2. **Ğ’Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹**: `/polls/:id/results`
3. **Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· POST**: `/polls/:id/vote`
4. **Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ñ‡ĞµÑ€ĞµĞ· query params**: `/polls?status=active&type=lesson_review`

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°

**Ğ£ÑĞ¿ĞµÑ…**:
```json
{
  "success": true,
  "data": { ... },
  "message": "ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸"
}
```

**ĞÑˆĞ¸Ğ±ĞºĞ°**:
```json
{
  "success": false,
  "message": "ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸",
  "error": "Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² dev)"
}
```

### Pagination

```json
{
  "success": true,
  "polls": [...],
  "pagination": {
    "total": 125,
    "page": 1,
    "limit": 20,
    "pages": 7
  }
}
```

### Filtering & Sorting

```
GET /api/polls?status=active&type=lesson_review&sort=-created_at&page=2
```

---

## ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (JWT)

**ĞŸÑ€Ğ¾Ñ†ĞµÑÑ**:
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ JWT Ğ¿Ğ¾ÑĞ»Ğµ Ğ²ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ´Ğ°
2. JWT Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑÑ Ğ² localStorage Ğ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğµ
3. ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ header: `Authorization: Bearer <token>`
4. Backend Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½ middleware

**JWT payload**:
```javascript
{
  userId: "65a1b2c3d4e5f6g7h8i9j0k1",
  role: "student",
  iat: 1705228800,  // issued at
  exp: 1705833600   // expires at (7 days)
}
```

### ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (RBAC)

**Ğ Ğ¾Ğ»Ğ¸**:
- `student` â€” ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚
- `teacher` â€” Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ
- `admin` â€” Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€

**Permissions**:
```javascript
const permissions = {
  student: [
    'polls:read',
    'polls:vote',
    'polls:create_custom',
    'profile:read',
    'profile:update'
  ],
  teacher: [
    'polls:read',
    'polls:create',
    'polls:results:read',
    'polls:delete_own'
  ],
  admin: [
    '*' // Ğ’ÑĞµ Ğ¿Ñ€Ğ°Ğ²Ğ°
  ]
};
```

### Middleware Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹

```javascript
// ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° JWT
const auth = (req, res, next) => {
  const token = req.headers.authorization?.split(' ')[1];
  if (!token) return res.status(401).json({message: 'ĞĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½Ğ°'});
  
  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    req.user = decoded;
    next();
  } catch (error) {
    return res.status(401).json({message: 'ĞĞµĞ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½'});
  }
};

// ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ¾Ğ»Ğ¸
const requireRole = (...roles) => {
  return (req, res, next) => {
    if (!roles.includes(req.user.role)) {
      return res.status(403).json({message: 'Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½'});
    }
    next();
  };
};
```

### Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ°Ñ‚Ğ°Ğº

**CORS**:
```javascript
app.use(cors({
  origin: process.env.FRONTEND_URL,
  credentials: true
}));
```

**Helmet** (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…):
```javascript
const helmet = require('helmet');
app.use(helmet());
```

**Rate Limiting** (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…):
```javascript
const rateLimit = require('express-rate-limit');
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 minutes
  max: 100 // limit each IP to 100 requests per windowMs
});
app.use('/api/', limiter);
```

---

## ğŸ“ˆ ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Ğ“Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

**Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°**: ĞĞ´Ğ¸Ğ½ ÑĞµÑ€Ğ²ĞµÑ€ (Backend + Frontend)

**ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Balancerâ”‚  (Nginx / HAProxy)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”â”€â”€â”€â”€â”€â”â”€â”€â”€â”€â”€â”
       â”‚     â”‚     â”‚     â”‚
    â”Œâ”€â”€â–¼â”€â”€â”â”Œâ”€â–¼â”€â”€â”€â”â”Œâ”€â–¼â”€â”€â”€â”â”Œâ”€â–¼â”€â”€â”€â”
    â”‚ App1â”‚â”‚App2 â”‚â”‚App3 â”‚â”‚App4 â”‚  (Node.js instances)
    â””â”€â”€â”¬â”€â”€â”˜â””â”€â”¬â”€â”€â”€â”˜â””â”€â”¬â”€â”€â”€â”˜â””â”€â”¬â”€â”€â”€â”˜
       â”‚     â”‚     â”‚     â”‚
       â””â”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”˜
                â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   MongoDB     â”‚  (Replica Set)
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚     Redis     â”‚  (Cluster mode)
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ**:
1. **Sticky sessions** Ğ´Ğ»Ñ WebSocket (Ğ¸Ğ»Ğ¸ Redis adapter)
2. **MongoDB Replica Set** Ğ´Ğ»Ñ Ğ²Ñ‹ÑĞ¾ĞºĞ¾Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸
3. **Redis Cluster** Ğ´Ğ»Ñ Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞºÑÑˆĞ°
4. **Shared storage** Ğ´Ğ»Ñ upload Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (S3 / MinIO)

### Ğ’ĞµÑ€Ñ‚Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹**:

| ĞĞ°Ğ³Ñ€ÑƒĞ·ĞºĞ° | CPU | RAM | MongoDB | Redis |
|----------|-----|-----|---------|-------|
| **Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ°Ñ** | 1 core | 2 GB | 2 GB | 512 MB |
| **ĞœĞ°Ğ»Ğ°Ñ** (Ğ´Ğ¾ 1000 Ğ¿Ğ¾Ğ»ÑŒĞ·.) | 2 cores | 4 GB | 4 GB | 1 GB |
| **Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ** (Ğ´Ğ¾ 5000 Ğ¿Ğ¾Ğ»ÑŒĞ·.) | 4 cores | 8 GB | 16 GB | 2 GB |
| **Ğ‘Ğ¾Ğ»ÑŒÑˆĞ°Ñ** (Ğ´Ğ¾ 20000 Ğ¿Ğ¾Ğ»ÑŒĞ·.) | 8 cores | 16 GB | 32 GB | 4 GB |

### ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

**Backend**:
- [ ] Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ MongoDB (âœ… Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ñ‡Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾)
- [ ] Redis ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (âœ… Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾)
- [ ] ĞšĞ¾Ğ¼Ğ¿Ñ€ĞµÑÑĞ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ² (gzip)
- [ ] Connection pooling (MongoDB, Redis)
- [ ] Query optimization (lean(), select())

**Frontend**:
- [ ] Code splitting (React.lazy)
- [ ] Ğ’Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ² (react-window)
- [ ] ĞœĞµĞ¼Ğ¾Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (React.memo, useMemo)
- [ ] Lazy loading Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
- [ ] Service Worker (PWA)

**Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**:
- [ ] Ğ¨Ğ°Ñ€Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (Ğ¿Ñ€Ğ¸ > 100 GB Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
- [ ] ĞÑ€Ñ…Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ€Ñ‹Ñ… Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- [ ] Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ¿Ğ¾ Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğ¼ Ğ¿Ğ¾Ğ»ÑĞ¼
- [ ] TTL Ğ¸Ğ½Ğ´ĞµĞºÑÑ‹ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ¸

---

## ğŸ” ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Ğ›Ğ¾Ğ³Ğ¸

**Ğ£Ñ€Ğ¾Ğ²Ğ½Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ**:
- `error` â€” ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
- `warn` â€” Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ
- `info` â€” Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
- `debug` â€” Ğ¾Ñ‚Ğ»Ğ°Ğ´Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ

**Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹**:
- **Winston** / **Pino** â€” Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ
- **Sentry** â€” Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…)
- **PM2** â€” Ğ»Ğ¾Ğ³Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ²

### ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…)

- **Request rate** â€” Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ² ÑĞµĞºÑƒĞ½Ğ´Ñƒ
- **Response time** â€” Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° API
- **Error rate** â€” Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- **Active connections** â€” Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ WebSocket ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ
- **Database performance** â€” Ğ²Ñ€ĞµĞ¼Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğº Ğ‘Ğ”

**Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹**:
- **Prometheus** â€” ÑĞ±Ğ¾Ñ€ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº
- **Grafana** â€” Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

---

## ğŸš€ Deployment

### Docker

```yaml
version: '3.8'

services:
  backend:
    build: ./server
    ports:
      - "5000:5000"
    environment:
      - MONGODB_URI=mongodb://mongo:27017/studvote
      - REDIS_HOST=redis
    depends_on:
      - mongo
      - redis

  frontend:
    build: ./client
    ports:
      - "3000:3000"
    depends_on:
      - backend

  mongo:
    image: mongo:5
    volumes:
      - mongo-data:/data/db

  redis:
    image: redis:6-alpine
    volumes:
      - redis-data:/data

volumes:
  mongo-data:
  redis-data:
```

### CI/CD (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…)

```yaml
# .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Build & Deploy
        run: |
          docker-compose build
          docker-compose up -d
```

---

**ĞšĞ¾Ğ½ĞµÑ† Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ¾Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸**
