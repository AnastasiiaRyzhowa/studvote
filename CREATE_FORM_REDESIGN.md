# Редизайн страницы "Создание анкеты"

## Обзор изменений

Страница "Создание анкеты" была полностью переработана с использованием **Tailwind CSS** вместо Material-UI для создания более современного и функционального интерфейса с улучшенным UX.

## Основные изменения

### 1. Технологический стек
- ✅ Использование **Tailwind CSS** для стилизации
- ✅ Использование **Material Symbols Outlined** для иконок
- ✅ Адаптивный двухколоночный макет
- ✅ Sticky sidebar с настройками

### 2. Дизайн и UX

#### Цветовая схема
```javascript
{
  primary: '#0167FC',      // Vibrant Blue
  secondary: '#FFB020',    // Vibrant Yellow
  danger: '#FF3B30',       // Vibrant Red
  success: '#34C759',      // Vibrant Green
  highlight: '#FF9500',    // Vibrant Orange
}
```

#### Структура страницы
- **Двухколоночный макет**:
  - Левая колонка (4 col): Sticky sidebar с основной информацией и настройками
  - Правая колонка (8 col): Список вопросов
- **Адаптивный дизайн**: на мобильных колонки располагаются вертикально
- **Градиентная полоска внизу**: визуальный акцент

### 3. Основные компоненты

#### Левая колонка (Sidebar)

##### 1. Основная информация
- **Название анкеты** (обязательное):
  - Максимум 200 символов
  - Счетчик символов
  - Placeholder с примером
  
- **Описание** (опциональное):
  - Максимум 2000 символов
  - Многострочное поле (3 строки)
  - Счетчик символов

##### 2. Настройки
- **Дата и время окончания**:
  - Datetime picker
  - Валидация: не раньше текущей даты
  - Иконка календаря справа
  
- **Видимость**:
  - Toggle-кнопки: Все / Группа / Факультет
  - Активное состояние с белым фоном и синим текстом
  - Плавные переходы
  
- **Анонимность**:
  - Кастомный toggle switch
  - Описание функции
  - Анимированное переключение

##### 3. Кнопки действий
- **Создать анкету**:
  - Градиентный фон с тенью
  - Иконка check_circle
  - Состояние загрузки со spinner
  - Active:scale эффект
  
- **Отмена**:
  - Вторичная кнопка
  - Навигация назад

#### Правая колонка (Вопросы)

##### Карточка вопроса
Каждый вопрос представлен в виде карточки с:

1. **Заголовок**:
   - Иконка drag_indicator для перемещения
   - Номер вопроса
   - Кнопка удаления

2. **Текст вопроса**:
   - Большой input с нижним бордером
   - Placeholder "Текст вопроса *"
   - Focus-эффект с изменением цвета бордера

3. **Настройки вопроса**:
   - **Тип вопроса** (dropdown):
     - Один вариант
     - Несколько вариантов
     - Рейтинг (1-5)
     - Свободный ответ
   - **Обязательность** (checkbox)

4. **Варианты ответов** (для single/multiple):
   - Левая цветная полоса (primary/20)
   - Иконка radio_button_unchecked
   - Input для каждого варианта
   - Кнопка удаления (появляется при hover)
   - Кнопка "Добавить вариант"

5. **Подсказки**:
   - Для рейтинга: информация о 5-звездочной шкале
   - Для текста: информация о свободном ответе
   - Синий фон с иконкой info

##### Кнопка добавления вопроса
- Пунктирная рамка
- Большая круглая иконка с +
- Hover-эффекты (масштабирование, изменение цвета)
- Высота 128px для визуального разделения

### 4. Интерактивные элементы

#### Анимации и эффекты
- **Toggle switch**:
  - Плавное перемещение кружка
  - Изменение цвета фона
  - Анимация 200ms
  
- **Кнопки**:
  - Active:scale-[0.98] для тактильной обратной связи
  - Плавные переходы цветов
  - Shadow-эффекты
  
- **Карточки**:
  - Soft shadow по умолчанию
  - Hover-эффект для кнопки добавления вопроса
  - Group-hover для кнопок удаления вариантов

#### Валидация
Проверки на стороне клиента:
- ✅ Название: минимум 5 символов
- ✅ Дата: должна быть в будущем
- ✅ Вопросы: текст обязателен
- ✅ Варианты: минимум 2 для single/multiple
- ✅ Варианты: все должны быть заполнены

### 5. Адаптивность

#### Брейкпоинты
- **Mobile** (< 1024px):
  - Одна колонка
  - Настройки снизу от вопросов
  - Вертикальное расположение элементов
  
- **Desktop** (>= 1024px):
  - Двухколоночный макет (4 + 8)
  - Sticky sidebar (top: 96px)
  - Горизонтальное расположение

#### Особенности
- Адаптивные отступы (px-4 sm:px-6 lg:px-8)
- Гибкие ширины элементов (w-full sm:w-auto)
- Адаптивные flex-направления

### 6. Сохраненный функционал

Все функции из предыдущей версии сохранены:

✅ **Управление анкетой**
- Название и описание
- Дата окончания
- Видимость (public/group/faculty)
- Анонимность

✅ **Управление вопросами**
- Добавление/удаление вопросов
- Изменение текста вопроса
- Изменение типа вопроса
- Обязательность вопроса
- Минимум 1 вопрос

✅ **Управление вариантами**
- Добавление/удаление вариантов
- Изменение текста варианта
- Минимум 2 варианта для single/multiple
- Не применимо для rating/text

✅ **Валидация**
- Клиентская валидация всех полей
- Отображение ошибок
- Предотвращение отправки невалидной формы

✅ **API интеграция**
- Создание анкеты через createPoll
- Обработка ошибок
- Состояние загрузки
- Навигация после успеха

## Технические детали

### Используемые Tailwind классы

#### Layout
```css
grid grid-cols-1 lg:grid-cols-12 gap-6    /* Основная сетка */
lg:col-span-4                              /* 4 колонки для sidebar */
lg:col-span-8                              /* 8 колонок для контента */
lg:sticky lg:top-24                        /* Sticky positioning */
```

#### Forms
```css
/* Input базовый */
rounded-lg border-border-light dark:border-border-dark
bg-gray-50 dark:bg-gray-800
focus:ring-2 focus:ring-primary focus:border-transparent

/* Input с нижним бордером */
border-0 border-b-2 border-gray-200 dark:border-gray-700
bg-transparent focus:ring-0 focus:border-primary
```

#### Toggle Switch
```css
/* Checkbox */
toggle-checkbox absolute block w-5 h-5 rounded-full
bg-white border-4 appearance-none cursor-pointer
checked:right-0 checked:border-primary

/* Label */
toggle-label block overflow-hidden h-5 rounded-full
cursor-pointer transition-colors
bg-primary (when checked) | bg-gray-300 (when unchecked)
```

#### Buttons
```css
/* Primary */
bg-primary hover:bg-blue-700 shadow-lg shadow-blue-500/30
active:scale-[0.98] transition-transform

/* Secondary */
bg-white dark:bg-transparent border border-gray-300
hover:bg-gray-50 dark:hover:bg-gray-800
```

### Компоненты Material Symbols

```html
<span class="material-symbols-outlined">info</span>
<span class="material-symbols-outlined">tune</span>
<span class="material-symbols-outlined">event</span>
<span class="material-symbols-outlined">drag_indicator</span>
<span class="material-symbols-outlined">delete</span>
<span class="material-symbols-outlined">radio_button_unchecked</span>
<span class="material-symbols-outlined">add</span>
<span class="material-symbols-outlined">check_circle</span>
<span class="material-symbols-outlined">close</span>
```

### Структура данных

```javascript
// Вопрос
{
  id: 'q1',              // Уникальный ID
  text: '',              // Текст вопроса
  type: 'single',        // Тип: single/multiple/rating/text
  required: false,       // Обязательность
  options: ['', '']      // Варианты ответов
}

// Данные формы для отправки
{
  title: string,         // Название
  description: string,   // Описание
  type: 'form',          // Тип = form
  questions: [...],      // Массив вопросов
  end_date: string,      // ISO дата
  visibility: string,    // public/group/faculty
  is_anonymous: boolean  // Анонимность
}
```

## Сравнение: До и После

### До (Material-UI)
- Одноколоночный макет
- Вопросы и настройки вертикально
- Material Design компоненты
- Стандартные MUI формы

### После (Tailwind CSS)
- Двухколоночный макет
- Sticky sidebar с настройками
- Кастомные toggle switches
- Современный, чистый дизайн
- Улучшенная визуальная иерархия
- Градиентная полоска прогресса внизу

## Преимущества нового дизайна

1. **Лучшая организация**: настройки всегда видны в sidebar
2. **Экономия места**: вопросы занимают 2/3 ширины
3. **Sticky navigation**: настройки всегда доступны при скролле
4. **Современный UX**: кастомные элементы управления
5. **Визуальная иерархия**: четкое разделение секций
6. **Гибкость**: легко модифицировать утилитарные классы
7. **Производительность**: меньший размер CSS bundle

## Будущие улучшения

- [ ] Drag-and-drop для сортировки вопросов
- [ ] Предпросмотр анкеты перед публикацией
- [ ] Дублирование вопроса
- [ ] Условная логика (показ вопросов по условию)
- [ ] Больше типов вопросов (дата, файл, шкала)
- [ ] Шаблоны анкет
- [ ] Автосохранение в localStorage
- [ ] Импорт вопросов из файла
- [ ] AI генерация вопросов по теме



















